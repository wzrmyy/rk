## 计算机组成与结构

---

### 考点1 各种计算机体系结构的特点与应用：采用对称多处理（Symmetrical Multi-Processing，SMP）技术构成系统的结构和主要特点，SMP的适用场合；采用海量并行处理结构（Massive Parallel Processing,MPP）技术构成系统的结构和特点，MPP的适用场合。

---

***SMP (Symmetric Multi Processing)***

对称多处理系统，内有许多紧耦合多处理器，在这样的系统中，所有的CPU共享全部资源，如总线，内存和I/O系统等，操作系统或管理数据库的复本只有一个，这种系统有一个最大的特点就是共享所有资源。

多个CPU之间没有区别，平等地访问内存、外设、一个操作系统。操作系统管理着一个队列，每个处理器依次处理队列中的进程。如果两个处理器同时请求访问一个资源（例如同一段内存地址），由硬件、软件的锁机制去解决资源争用问题。

***MPP(Massive Parallel Processing)***

MPP提供了另外一种进行系统扩展的方式，它由多个SMP服务器通过一定的节点互联网络进行连接，协同工作，完成相同的任务，从用户的角度来看是一个服务器系统。其基本特征是由多个SMP服务器(每个SMP服务器称节点)通过节点互联网络连接而成，每个节点只访问自己的本地资源 (内存、存储等) ，是一种完全无共享 (Share Nothing) 结构，因而扩展能力最好，理论上其扩展无限制，目前的技术可实现512个节点互联，数千个CPU。目前业界对节点互联网络暂无标准，它们都采用了不同的内部实现机制。但节点互联网仅供MPP服务器内部使用，对用户而言是透明的。

***SMP系统与MPP系统比较***

MPP的优势：MPP系统不共享资源，因此对它而言，资源比SMP要多，当需要处理的事务达到一定规模时，MPP的效率要比SMP好。由于MPP系统因为要在不同处理单元之间传送信息，在通讯时间少的时候，那MPP系统可以充分发挥资源的优势，达到高效率。也就是说：操作相互之间没有什么关系，处理单元之间需要进行的通信比较少，那采用MPP系统就要好。因此，MPP系统在决策支持和数据挖掘方面显示了优势。

SMP的优势：MPP系统因为要在不同处理单元之间传送信息，所以它的效率要比SMP要差一点。如果通信时间比较多，那MPP系统就不占优势了。因此当前使用的OTLP程序中，用户访问一个中心数据库，如果采用SMP系统结构，它的效率要比采用MPP结构要快得多。

---

### 考点2 构成计算机的各类部件的功能及其相互关系：包括计算机系统中的主要部件（如中央处理器、寄存器、缓存、主存、外存等）在构成计算机系统时的关系与结构。

---

计算机的六种部件：控制器、运算器、内存储器、外存储器、输入设备、输出设备。

控制器：分析和执行指令的部件。包括程序计数器（PC，存放当前指令的地址）、指令寄存器（IR,指令）、指令译码器(将指令中的操作码翻译成控制信号)、时序部件、微操作控制信号形成部件和中断机构。

运算器（算术逻辑单元ALU）。包括ALU（累加器、加法器等）、通用寄存器、多路转换器、数据总线。

内存储器：内存，主存。存储现场操作的信息和中间结果。包括机器指令和数据。

外存储器：外存，辅存。存储需要长时间保存的各种信息。

输入设备：

输出设备：

PS

CPU：中央处理器，控制器和运算器被制造在同一块超大规模集成电路中。

多级存储体系：包括寄存器、cache、主存储器、磁盘存储器、光盘存储器、磁带存储器等。

存取方式：

（1）顺序存取：访问按特定的线性顺序进行，例如磁带存储器。

（2）直接存取：使用共享的读写装置，每个数据块都有唯一地址标识，读写装置可以直接移动到目的数据块的位置进行访问。存取时间可变。例如磁盘存储器。

（3）随机存取：存储器的每个可寻址单元都有自己的唯一地址和读写装置，系统可以在相同的时间内对任意存储单元的数据进行访问，与先前的访问序列无关。例如主存储器。

（4）相联存取：也是一种随机存取的形式，但是选择某一单元进行读写不是其地址而是其内容。每个单元有自己的读写装置，读写时间也是常数。例如Cache。

存储器系统的性能主要有存取时间、存储器的带宽、存储器周期和数据传输率等来衡量。

主存储器（主存、内存）分为：

（1）RAM（random access memory，随机存取存储器）：可写可读，断电无法保存。

①DRAM：信息会随着时间逐渐消失，需要定时刷新维持信息不丢失；密度大，更加便宜；

②SRAM：不断电信息会一直保持不会丢失；电路简单，速度快，容量小，价格高；

（2）ROM（Read Only Memory，只读存储器）：信息固化在存储器中。出厂时由厂家用掩膜技术（mask）写好，只可读出，无法改写。一般用于存放BIOS和用于微程序控制。

（3）PROM（Programmable ROM，可编程ROM）：只能进行一次写入操作，但是可以在出厂后由用户使用特殊电子设备写入。

（4）EPROM(Erasable PROM，可擦除的PROM)：其内容可读可写。一次写操作之前需要用紫外线照射15-20分钟擦去所有信息。可以写多次。

（5）E^2PROM（Electrically EPROM，电可擦除的EPROM）：可读可写，写之前不需要擦去，直接对寻址的字节块修改，写的时间远大于读的时间。

（6）闪速存储器（flash memory，闪存）：可用电信号删除，速度远快于EPROM，可以删除某一块的内容，

（7）CAM（Content Addressable Memory，相联存储器）：基于数据内容进行访问的存储设备。

辅助存储器（外存储器）分为：

（1）磁带存储器：顺序存取，存取时间长，存储量大，价格便宜。

（2）磁盘存储器：数据存放在磁道上，磁道宽度和磁头宽度相同，磁道是磁盘上的同心圆。为了避免干扰，磁道之间需要保持一定的间隔。磁盘半径方向上单位长度内磁道的数目是道密度，沿磁道方向上，单位长度内存放二进制信息的个数叫位密度。每个磁道的位数相同。磁盘数据以块为单位，称为扇区（sector）。若每个磁盘有m个磁道，则该磁盘组有m个柱面。存储容量=n*t*s*b, n为总盘面数，t为磁道数，s为每个磁道扇区数，b为每个扇区存储的字节数。磁盘的存取时间包含寻道时间（磁头移动道目标磁道所需的时间）和等待时间（等待读写的扇区旋转到磁头下方所用的时间）。 磁头和盘片都在动,盘片在转,磁头在半径的方向上移动。

（3）RAID存储器：用多个较小的磁盘驱动器替换单一的大容量磁盘驱动器，旨在缩小CPU和磁盘存储器速度差距。RAID机制共分8个级别，有分块技术、交叉技术和重聚技术。0级最高IO性能，但故障率高，非冗余；10级是性价比高，高可靠性。

（4）光盘存储器：利用激光束在表面记录存储信息，根据激光束的反射光来读信息。主要有CD、CD-ROM（大容量、可靠性高、复制简易、便于携带；只读、存取时间长）、CD-I、DVD（更高容量）以及EOD。

Cache：提高CPU数据输入输出的速率。容量小，速度快。cache改善系统性能的依据是程序的局部性原理。把内存中访问概率高的内容存放在cache中。

地址映射：主存和cache均分成容量相同的块，常见的映射分为以下几种：

（1）直接映射。以随机存取存储器作为cache存储器。多对一的映射关系，一个主存快只能复制到cache的一个特定的位置。

（2）全相联映射。使用相联存储器组成的cache存储器。速度慢，适合小容量cache。

（3）组相联映射。结合一和二的折中方案。

cache的淘汰算法：随机淘汰法、先进先出法、最近最少使用淘汰法LRU。其中平均命中率最高的是LRU算法。

cache的写操作：写直达（写cache同时写回内存）、写回（不立即写入内存，从cache中淘汰时，才写到内存）、标记法（对cache的每个数据设置有效位，数据进入cache，有效位为1，修改时，写入内存并将有效位置为0，下次读取数据的时候测试有效位：为1直接从cache取，为0从内存取数。）

输入输出接口：负责控制外部设备与主存储器、CPU的寄存器之间的数据交换。

总线的分类：

（按位置）内部总线（寄存器之间和ALU与控制部件）、外部总线（CPU与内存RAM、ROM和输入输出设备）；

（按功能）地址总线、数据总线和控制总线；

流水线技术：通过并行硬件来提高系统性能。

流水线周期：执行时间最长的那个部分为标准。

吞吐率：单位时间内刘淑娴所完成的任务数量或输出的结果数量。

加速比：完成同样一批任务，不使用流水线所用的时间与使用流水线所用的时间之比。
