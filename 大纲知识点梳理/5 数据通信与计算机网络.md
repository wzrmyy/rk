### 考点1 数据通信的基本知识
---
#### 奈奎斯特定理

根据奈氏(Nyquist)准则，理想码元传输速率N=2W(Baud)，其中W是理想低通信道的带宽，单位为赫兹(Hz)，Baud是被特，是码元传输速率的单位，1波特为每秒传送l个码元。

#### 香农定理

香农（Shannon）用信息论的理论推导出了带宽受限且有高斯白噪声干扰的信道的极限、无差错的信息传输速率。

信道的极限信息传输速率C可表达为:

C=Wlog2(I+S/N)bps

其中W为信道带宽（以Hz为单位），s为信道内所传信号的平均功率，N为信道内部的高斯噪声功率。

香农公式表明：信道的带宽或信道中的信噪比越大，则信息的极限传输速率就越高。

若信道带宽W或信噪比S/N没有上限(当然实际信道不可能是这样的)，则信道的极限信息传输速率C也就没有上限。实际信道上能够达到的信息传输速率要比香农的极限传输速率低不少。

#### 码元与调制技术：

码元种类数N与其携带的比特位数n之间的关系为：比特位数n=log2N。

#### 数据调制与编码：

1. 模拟通道传送模拟数据：调幅AM、调频FM、调相PM，例如收音机。
2. 数字通道传送模拟数据：脉码调制（Pulse Code Modulation, PCM）是模拟数据数字化的主要方法。PCM要经过采样、量化、编码3个步骤。
3. 模拟通道传送数字数据：计算机拨号上网，调制解调器。
4. 数字通道传送数字数据：

#### 曼彻斯特编码：

用低到高的电平转换表示0，用高到低的电平转换表示1。注意：某些文献中关于此定义有相反的描述，也是正确的。

### 开放系统互连参考模型
---
整个OSI/RM模型共分7层，从下往上分别是物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。

1. 物理层的所有协议规定了不同种类的传输设备、传输媒介如何将数字信号从一端传送到另一端，而不管传送的是什么数据。它是完全面向硬件的，通过一系列协议定义了通信设备的机械、电气、功能和规程特征。

2. 数据链路层在物理层己能将信号发送到通信链路中的基础上，负责建立一条可靠的数据传输通道，完成相邻节点之间有效地传送数据的任务。数据链路层分了两个子层：逻辑链路控制层（Logic Link Control, LLC）和介质访问控制层（Media Access Control, MAC）。网卡在出厂前会被分配给唯一的由12位十六进制数表示的MAC地址（物理地址），MAC地址可提供给LLC层来建立同一个局域网中两台设备之间的逻辑链路。

3. 网络层用于从发送端向接收端传送分组，负责确保信息到达预定的目标。

4. 传输层实现发送端和接收端的端到端的数据分组传送，负责保证实现数据包无差错、按顺序、无丢失和无元余地传输。在传输层上，所执行的任务包括检错和纠错。

5. 会话层主要负责管理远程用户或进程间的通信。该层提供名字查找和安全验证等服务，允许两个程序能够相互识别，并建立和维护通信连接。会话层还提供数据同步和检查点功能，这样当网络失效时，会对失效后的数据进行重发。在OSI/RM模型中，会话层的规程具体包括通信控制、检查点设置、重建中断的传输链路、名字查找和安全验证等服务。

6. 表示层以下的各层只关心从源地到目的地可靠地传输数据，而表示层则关心的是所传送信息的语义与语法。它负责将收到的数据转换为计算机内的表示方法或特定程序的表示方法。也就是说，它负责通信协议的转换、数据的翻译、数据的加密、数据的压缩、字符的转换等工作。在OSI/RM模型中表示层的规范具体包括数据编码方式的约定和本地句法的转换。各种表示数据的格式的协议也属于表示层，例如，数据压缩和编码等。

7. 应用层是直接提供服务给使用者的应用软件的层，比如电子邮件和在线交谈程序都属于应用层的范畴。应用层可实现网络中一台计算机上的应用程序与另一台计算机上的应用程序之间的通信，就像在向一台计算机上操作一样。在OSI/RM模型中应用层的规范具体包指各类应用过程的接口和用户接口。

### 常用的协议标准
---
#### TCP/IP 协议族

##### 一、应用层

TCP/IP的应用层大致对应于OSI/RM模型的应用层和表示层，应用程序通过本层协议利用网络。这些协议主要有FTP(基于TCP)、TFTP(基于UDP) 、HTTP( Hypertext Transfer Protocol，超文本传输协议)、SMTP( Simple Mail Transfer Protocol，简单邮件传输协议)、DHCP(Dynamic Host Configuration Protocol， 动态主机配置协议)、NFS、Telnet(远程登录协议)、DNS( Domain Name System，域名系统)和SNMP( Simple Network Management Protocol，简单网络管理协议) 等。

    1. FTP是网络上两台计算机传送文件的协议，是通过Internet把文件从客户机复制到服务器上的一种途径。

    2. TFTP是用来在客户机与服务器之间进行简单文件传输的协议，提供不复杂、开销不大的文件传输服务。TFTP协议设计的时候是进行小文件传输的，因此它不具备通常的FTP的许多功能， 它只能从文件服务添上获得或写入文件，不能列出目录，也不进行认证。它传输8 位数据。

    3. HTTP是用于从WWW服务器传输超文本到本地浏览器的传送协议。它可以便浏览器更加高效，使网络传输减少。它不仅保证计算机正确快速地传输超文本文挡，还确定传输文档中的哪一部分，以及哪一部分内容首先被显示等。

    4. SMTP是一种提供可靠且有效的电子邮件传输的协议。SMTP是建模在FTP文件传输服务上的一种邮件服务，主要用于传输系统之间的邮件信息并提供与来信有关的通知。

    5. DHCP分为两个部分， 一个是服务器端，另一个是客户端。所有的IP网络设定数据都由DHCP服务器集中管理，并负责处理客户端的DHCP要求； 而客户端则会使用从服务器分配下来的IP环境数据。DHCP通过租约的概念，有效且动态地分配客户端的TCP/IP设定。

    6. NFS是FreeBSD支持的文件系统中的一种，允许一个系统在网络上与他人共享目录和文件。通过使用NFS，用户和程序可以像访问本地文件一样访问远端系统上的文件。

    7. Telnet是登录和仿真程序，它的基本功能是允许用户登录进入远程主机系统。

    8. DNS用于命名组织到域层次结构中的计算机和网络服务。在Internet上域名与IP地址之间是一一对应的，域名虽然便于人们记忆，但机器之间只能互相认识IP地址，它们之间的转换工作称为域名解析，域名解析需要由专门的域名解析服务器来完成， DNS就是进行域名解析的服务器。

    9. SNMP是为了解决Internet上的路由器管理问题而提出的，指一系列网络管理规范的集合，包指协议本身、数据结构的定义和一些相关概念。目前SNMP已成为网络管理领域中事实上的工业标准，并被广泛支持和应用，大多数网络管理系统和平台都是基于SNMP的。

##### 二、传输层

TCP/IP的传输层大致对应于OSI/RM模型的会话层和传输层，主要包括TCP和UDP，这些协议负责提供流控制、错误校验和排序服务。所有的服务请求都使用这些协议。

    1. TCP是整个TCP/IP协议族中最重要的协议之一，它在IP协议提供的不可靠数据服务的基础上，采用了重发技术，为应用程序提供了一个可靠的、面向连接的、全双工的数据传输服务。TCP协议一般用于传输数据最比较少，且对可靠性要求高的场合。

    2. UDP是一种不可靠的、无连接的协议，可以保证应用程序进程间的通信，与同样处在传输层的面向连接的TCP相比较， UDP是一种无连接的协议，它的错误检测功能要弱得多。可以这样说， TCP有助于提供可靠性，而UDP则有助于提高传输的速率。UDP协议一般用于传输数据最大，对可靠性要求不是很高，但要求速度快的场合。

##### 三、网际层

TCP/IP的网际层对应子OSI/RM模型的网络层， 包括IP、ICMP( Internet Control Message Protocol，网际控制报文协议)、IGMP( Internet Group Management Protocol，网际组管理协议)，以及ARP( Address Resolution Protocol，地址解析协议)和RARP( Reverse Address Resolution Protocol，反向地址解析协议)。这些协议处理信息的路由及主机地址解析。

    1. IP所提供的服务通常被认为是无连接的和不可靠的，因此把差错检测和流量控制之类的服务授权给了其他的各层协议，这正是TCP/IP能够高效率工作的一个重要保证。除了提供端到端的分组分发功能外， IP还提供了很多扩充功能。例如，为了克服数据链路层对帧大小的限制，网络层提供了数据分块和重组功能，这使得很大的IP数据包能以较小的分组在网上传输。

    2. ARP用于动态地完成IP地址向物理地址的转换。物理地址通常是指主机的网卡地址(MAC地址)，每一网卡都有唯一的地址； RARP用于动态完成物理地址向IP地址的转换。

    3. ICMP是一个专门用于发送差错报文的协议，由于IP协议是一种尽力传送的通信协议，即传送的数据可能丢失、重复、延迟或乱序传递，所以IP协议需要一种尽量避免差错并能在发生差错时报告的机制。

    4. IGMP允许Internet主机参加多播，也就是IP主机用做向相邻多目路由器报告多目组成员的协议。多目路出器是支持组播的路由器，向本地网络发送IGMP查询。主机通过发送IGMP报告来应答查询。组播路由器负责将组播包转发到网络中所有组播成员。

##### 四、网络接口层

TCP/IP的网络接口层大致对应予OSI/RM模型的数据链路层和物理层， TCP/IP协议不包含具体的物理层和数据链路层，只定义了网络接口层作为物理层的接口规范。网络接口层处在TCP/IP协议的最底层，主要负责管理为物理网络准备数据所需的全部服务程序和功能。

CSMA/CD是一种争用型的介质访问控制协议， 工作在数据链路层。CSMA/CD控制过程包含4 个处理内容，分别是侦听、发送、检测、冲突处理。对于每一个站而言，发送数据前先监听信道是否空闲，若空闲，则立即发送数据。在发送数据时，边发送边继续监听。若监听到冲突，则立即停止发送数据。等待一段随机时间，再重新尝试。CSMA/CD控制方式的优点是原理比较简单，技术上易实现，网络中各工作站处于平等
地位，不需集中控制，不提供优先级控制。但在网络负载增大时，发送时间增长，发送效率急剧下降。

当确认发生冲突后，进入冲突处理程序。若在侦听中发现线路忙，则等待一个延时后再次侦听，若仍然忙，则继续延迟等待， 一直到可以发送为止。每次延时的时间不一致，由退避算法确定延时值：若发送过程中发现数据碰撞， 先发送阻塞信息，强化冲突，再进行侦听工作，以待下次重新发送。

退避算法是指当出现线路冲突时，如果冲突的各站点都采用同样的退避间隔时间，则很容易产生二次、三次的碰撞。因此，要求各个站点的退避间隔时间具有差异性。

##### 端口

在TCP/IP网络中，传输层的所有服务部包含端口号，它们可以唯一区分每个数据包包含哪些应用协议。端口系统利用这种信息来区分包中的数据，尤其是端口号使一个接收端计算机系统能够确定它所收到的IP包类型，并把它交给合适的高层软件。

端口号和设备IP地址的组合通常称作套接字(socket)。

任何TCP/IP实现所提供的服务都用知名的1~1023 之间的端口号。

256~1023之间的端口号通常由UNIX系统占用，以提供一些特定的UNIX服务。也就是说，提供一些只有UNIX系统才有的而其他操作系统可能不提供的服务。

##### 网络地址与子网掩码

连接到Internet上的每台计算机都必须有一个唯一地址，称为IP地址。

IP地址是一个4字节(共32 位)的数字，被分为4 段，每段8 位，段与段之间用句点分隔。为了便于表达和识别， IP地址以十进制形式表示(例如212.152.200.12)，每段所能表示的十进制数最大不超过255 。IP地址由两部分组成，即网络号和主机号。网络号标识的是Internet上的一个子网，而主机号标识的是子网中的某台主机。

##### IP 地址的分类

IP地址可分为5 类，分别是A类、B类、C类、D类和E类，大量使用的仅为A类、B类、C类。

    1. A类地址： 最前面1位为0，然后用7位来标识网络号，24位标识主机号。即A类地址的第一段取值介于1～126 之间。A类地址通常为大型网络而提供，全世界总共只有126个可能的A类网络，每个A类网络最多可以连接2^24-2 台主机(两个保留地址)。

    2. B类地址： 最前面2位是10，然后用14位来标识网络号，16位标识主机号。因此，B类地址的第一段取值介子128～191之间，第一段和第二段合在一起表示网络号。B类地址适用于中等规模的网络，每个B类网络最多可以连接2^16-2 台主机(两个保留地址)。

    3. C类地址：最前面3位是110，然后用21位来标识网络号，8位标识主机号。因此，C类地址的第一段取值介于192～223之间，前三段合在一起表示网络号。最后一段标识网络上的主机号。C类地址适用于校园网等小型网络，每个C类网络最多可以有2^8-2 台主机(两个保留地址)。

    4. D类地址：最前面4位为1110, D类地址不分网络地址和主机地址，它是一个专门保留的地址。它并不指向特定的网络，目前D类地址被用在多点广播中。多点广播地址用来一次寻址一组计算机，它标识共享同一协议的一组计算机。

    5. E类地址：最前面5位为11110, E类地址也不分网络地址和主机地址，为将来使用所保留。

##### 子网掩码

子网指一个组织中相连的网络设备的逻辑分组。

一般情况下，子网可表示为某地理位置内(某大楼或相同局域网中)的所有机器。

将网络划分成一小个逻辑段（即子网）的目的是便子更好地管理网络，同时提高网络性能，增强网络安全：性。另外，将一个组织内的网络划分成各个子网，只需要通过单个共享网络地址，即可将这些子网连接到互联网上，从而减缓了互联网IP地址的耗尽趋势。

掩码是一个32位二进制数字，用点分十进制来描述，默认情况下，掩码包含两个域，分别为网络域和主机域。这些内容分别对应网络号和本地可管理的网络地址部分，通过使用掩码可将本地可管理的网络地址部分划分成多个子网。

例如，假设某个IP地址为176.68.160.12/22，则表示使用22位作为网络地址，那么主机地址就占10位。因此，此子网的主机数可以有2^10-2个。这个地址中前22位作为网络地址，则子网掩码第三个字节的前6位为子网域，用l表示：剩余的位数为主机域，用0表示。即11111100 00000000，将这个二进制信息转换成十进制作为掩码的后半部分，则可得出完整掩码为255.255.252.0。

### 网络的互连与常用网络设备
---
#### 传输介质

    1. 双绞线
    2. 同轴电缆
    3. 光纤
#### 网络设备
1. 网卡。也称为网络适配器或网络接口卡（Network Interface Card, NIC），工作于数据链路层。网卡及其驱动程序已基本实现了网络协议中底部两层的功能。它们具体负责主机向媒体收／发信号，实现帧一级协议的有关功能。

2. 集线器。也称为线集中器（Hub），工作于数据链路层，它收集多个端口传来的数据帧并广播出去。集线器把节点都集中到总线上并相互连接在一起，也可以在Hub之间相互用双绞线进一步互联接通。

3. 重发器。也称为中继器或转发器，工作在物理层。因为信号在传输媒体的线路上传输一段距离后必然会发生衰减或者畸变，通过重发器放大增强信号并进行转发就可以保证信号可靠地传输。

4. 网桥。也称为桥接器（bridge），工作在数据链路层，把同段互相连接起来。在网桥中可以进行两个网段之间的数据链路层的协议转换。网桥最重要的功能是对数据进行过滤。即在网桥中保存着所连接的每个网段上所有站点的地址。当收到一个帧时，可以只让必要的数据信息通过网桥或只向相应的网段转发。

5. 交换机。也称为交换器。一台具有基本功能的以太网交换机的工作原理相当于一个具有很多个端口的多端口网桥，即是一种在LAN中互联多个网段，并可进行数据链路层和物理层协议转换的网络互联设备。当一个以太网的信息帧到达交换机的一个端口时，交换机根据在该帧内的目的地址，采用快速技术把该帧迅速地转发到另一个相应的端口（相应的主机或网段）。交换机可以分为二层交换机、三层交换机和多层交换机。二层交换机工作在数据链路层，起到多端口网桥的作用，主要用于周域网互联。三层交换机工作在网络层，利用IP地址进行交换，相当于带路由功能的二层交换机。多层交换机工作在高层（传输层以上），这是带协议转换的交换机。

6. 路由器。在广域网通信过程中，需要采用一种称为路由的技术，根据地址来寻找到达目的地的路径，路由器就是实现这个过程的网络设备。路由器在属于不同网络段的广域网和局域网间根据地址建立路白，并将数据送到最终目的地。路由器工作于网络层，它根据IP地址转发数据报，处理的是网络层的协议数据单元。路由器通过逻辑地址进行网络间的信息转发，可完成异构网络之间的互联互通，但只能连接使用相同网络层
协议的子网。

7. 网关。也称为网间连接器、信关或联网机，是网络层以上的中继系统。用网关连接两个不兼容的系统要在高层进行协议转换，因此，网关也称为协议转换器。

8. 调制解调器。应用在广域网上，作为末端系统和通信系统之间信号转换的设备。它分为同步和异步两种， 分别连接路由器的同步端口和异步端口，同步用于专线、帧中继和X.25等高速网络连接，异步用于PSTN的低速连接。调制解调器工作于物理层，它的主要作用是信号变换，即把模拟信号变换成数字信号，或者把数字信号变换成模拟信号。


### 计算机网络的分类与应用
---