### 软件开发生命周期


### 软件开发方法

软件方法学是以软件开发方法为研究对象的学科。

从开发风范上看， 软件方法学可分为自顶向下的开发方法和自底向上的开发方法。
- 自顶向下的开发方法强调开发过程是由问题到解答、由总体到局部、自一般到具体；
- 自底向上的开发方法从系统实现的最基础部分着手，由简单到复杂，逐层向上构造，直至得到所需的软件。

从性质上看，软件方法学可分为形式化方法与非形式化方法。
- 形式化方法是建立在严格数学基础上的软件开发方法。在软件开发的各个阶段中，凡是采用严格的数学语言，具有精确的数学语义的方法，称为形式化方法。采用形式化方法可避免系统中的歧义性、不完全性和不一致性。
- 而非形式化方法则不把严格作为其主要的着眼点。

从适用范围上看，软件方法学可分为整体性方法和局部性方法。
- 整体性方法适用于软件开发的全过程，例如，自顶向下方法、自底向上方法、软件自动化方法等；
- 局部性方法适用于软件开发过程的某个具体阶段，例如，各种需求分析方法、设计方法等。

#### 净室方法

净室软件工程（净室方法）是软件开发的一种形式化方法，它可以生成高质量的软件。它使用盒结构规约进行分析和设计建模，并且强调将正确性验证（而不是测试）作为发现和消除错误的主要机制，使用统计的测试来获取认证被交付的软件的可靠性所必需的出错率信息。

净室方法主要使用三种盒类型：
- 黑盒。这种盒刻划系统或系统的某部分的行为。通过运用由激发得到反应的一组变迁规则，系统（或部分）对特定的激发（事件）作出反应。
- 状态盒。这种盒以类似于对象的方式封装状态数据和服务（操作）。在这个规约视图中，表示出状态盒的输入（激发）和输出（反应）。状态盒也表示黑盒“激活历史”，即封装在状态盒中的，必须在蕴含的变迁间保留数据。
- 清晰盒。在消晰盒中定义状态盒所蕴含的变迁功能，简单地说，清晰盒包含了对状态盒的过程设计。

#### 结构化方法

给构化方法属于自顶向下的开发方法，其基本思想是“自顶向下，逐步求精”，强调开发方法的结构合理性及所开发软件的结构合理性。结构是指系统内各个组成要萦之间的相互联系、相互作用的框架。

#### 面向对象方法

面向对象方法是当前的主流开发方法，拥有大量不同的方法，主要包括OMT（Object Model Technology，对象建模技术）方法、Coad/Yourdon方法、OOSE（Object-Oriented Software Engineering，面向对象的软件工程）及Booch 方法等，而OMT、OOSE 及Booch最后可统一成为UML（United Model Language，统一建模语言）。

#### 原型法

***结构化方法和面向对象方法有一个共同点：在系统开发初期必须明确系统的功能要求，确定系统边界。***

通常，原型是指模拟某种产品的原始模型。

在软件开发中，原型是软件的一个早期可运行的版本，它反映最终系统的部分重要特性。

如果在获得一组基本需求说明后，通过快速分析构造出一个小型的软件系统，满足用户的基本要求，使得用户可在试用原型系统的过程中得到亲身感受和受到启发，做出反应和评价，然后开发者根据用户的意见对原型加以改进，随着不断试验、纠错、使用、评价和修改，获得新的原型版本，如此周而复始，逐步减少分析和通信中的误解，弥补不足之处，进一步确定各种需求细节，适应需求的变更，从而提高了最终产品的质量。

### 逆向工程

#### 软件再工程（reengineering）

再工程是对现有软件系统的重新开发过程，包括逆向工程（Reverse Engineering，反向工程）、新需求的考虑（软件重构）和正向工程三个步骤。

#### 软件重构

软件重构是对源代码、数据进行修改，使其易于修改和维护，以适应将来的变更。通常软件重构并不修改软件体系结构，而是关注模块的细节。

#### 逆向工程

逆向工程是分析程序，力求在比源代码更高的抽象层次上建立程序表示的过程。

### 软件开发模型

主要的开发模型有瀑布模型、增量模型、螺旋模型、喷泉模型、智能模型、V模型、快速应用开发模型、构件组装模型、敏捷方法和统一过程等。

#### 瀑布模型

瀑布模型也称为生命周期法，是结构化方法中最常用的开发模型，它把软件开发的过程分为软件计划、需求分析、软件设计、程序编码、软件测试和运行维护6个阶段，规定了它们自上而下、相互衔接的固定次序，如同瀑布流水，逐级下落。

#### 演化模型

也称为变换模型，是在快速开发一个原型的基础上，根据用户在调用原型的过程中提出的反馈意见和建议，对原型进行改进，获得原型的新版本，重复这一过程，直到演化成最终的软件产品。

#### 螺旋模型

将瀑布模型和变换模型相综合，综合了两者的优点，并增加了风险分析。它以原型为基础，沿着螺线自内向外旋转，每旋转一圈都要经过制订计划、风险分析、实施工程及客户评价等活动，并开发原型的一个新版本。经过若干次螺旋上升的过程，得到最终的系统。

#### 喷泉模型

为软件复用和生存周期中多项开发活动的集成提供了支持，主要支持面向对象的开发方法。“喷泉”一词本身体现了迭代和无间隙的特性。系统某个部分常常重复工作多次，相关功能在每次迭代中随之加入演进的系统。所谓无间隙是指在开发活动中，分析、设计和编码之间不存在明显的边界。

#### 智能模型

是基于知识的软件开发模型，它综合了上述若干模型，并与专家系统结合在一起。该模型应用基于规则的系统，采用归纳和推理机制，帮助软件人员完成开发工作，并使维护在系统规格说明中一级进行。

#### 增量模型

融合了瀑布模型的基本成分（重复的应用）和原型实现的迭代特征。

#### 迭代模型

迭代包括产生产品发布（稳定、可执行的产品版本）的全部开发活动和要使用该发布必需的所有其他外围元素。所以，在某种程度上，开发迭代是一次完整地经过所有工作流程的过程：（至少包括）需求工作流程、分析设计工作流程、实施工作流程和测试工作流程。

#### 构件组装模型

基于构件的软件，开发（Component Based Software Development,CBSD）模型是利用模块化方法，将整个系统模块化，并在一定构件模型的支持下，复用构件库中的一个或多个软件构件，通过组合手段高效率、高质量地构适应用软件系统的过程。

#### V模型

在瀑布模型及其他的经典模型中，测试常常作为亡羊补牢的事后行为，但也有以测试为中心的开发模型，那就是V模型。

#### 快速应用开发

快速应用开发（Rapid Application Development, RAD）模型是一个增量型的软件开发过程模型，强调极短的开发周期。

#### 敏捷方法

敏捷软件开发简称敏捷开发，是从20世纪90年代开始逐渐引起广泛关注的一些新型软件开发方法，以应对快速变化的需求。

敏捷开发的发展过程中，出现了多个不同的流派，例如，极限编程(Extreme Programming，XP)、自适应软件开发、水晶方法、特性驱动开发等。

#### 统一过程

统一过程（Unified Process, UP）是一个通用过程框架，可以用于种类广泛的软件系统、不阔的应用领域、不同的组织类型、不同的性能水平和不同的项目规模。UP 是基于构件的，在为软件系统建模时， UP 使用的是UML。与其他软件过程相比， UP 具有三个显著的特点， 即用例驱动、以体系结构为中心、迭代和增量。

### 系统规划与问题定义

总体规划阶段的主要目标是制定软件的长期发展方案，决定软件在整个生命周期内的发展方向、规模和发展进程。

#### 可行性分析

可行性研究的任务就是研究系统开发的必要性和可能性，用最少的代价在尽可能短的时间内确定问题是否值得解决和是否能够解决。

#### 成本效益分析

成本效益分析首先是估算新系统的开发成本，然后与可能取得的效益（有形的和无形的）进行权衡比较。有形的效益可以用货币的时间价值、投资回收期、投资回收率等指标进行度量。无形的效益主要是从性质上、心理上进行衡量，很难直接进行量上的比较。

#### 系统建模

通常软件开发项目是要实现目标系统的物理模型，即确定待开发软件的系统元素，并将功能和数据结构分配到这些系统元素中，它是软件实现的基础。但是目标系统的具体物理模型是由它的逻辑模型经实例化，即 具体到某个业务领域而得到的。

#### 问题定义

软件系统的目的是为了解决问题，因此在建模之初最重要的步骤是问题的分析与定义，并在此基础上归结模型，这样才能够获得切实有效的模型。定义问题的过程包括理解真实世界中的问题和用户的需要，并提出满足这些需要的解决方案的过程。

### 需求工程

需求工程是包括创建和维护系统需求文档所必需的一切活动的过程，可分为需求开发和需求管理两大工作。
- 需求开发：包括需求获取、需求分析、编写规格说明书（需求定义）和需求验证4个阶段。在需求开发阶段需要确定产品所期望的用户类型、获取每种用户类型的需求、了解实际的用户任务和目标，以及这些任务所支持的业务需求。同时还包括分析源于用户的信息、对需求进行优先级分类、将所收集的需求编写成为软件规格说明书和需求分析模型，以及对需求进行评审等工作。
- 需求管理：通常包括定义需求基线、处理需求变更及需求跟踪等方面的工作。这两个方面是相辅相成的，需求开发是主线，是目标；需求管理是支持，是保障。换句话来说，需求开发是努力更清晰、更明确地掌握客户对系统的需求；而需求管理则是对需求的变化进行管理的过程。

#### 需求开发概述

需求开发所要做的工作是深入描述软件的功能和性能，确定软件设计的限制利软件与其他系统元素的接口细节，定义软件的其他有效性铺求，细化软件要处理的数据域。用一句话概括就是：需求开发主要确定开发软件的功能、性能、数据和界面等要求。

#### 需求获取

#### 需求分析

需求分析的方法种类繁多，不过如果按照分解的方式不同，可以很容易地划分出几种大类型：
- 结构化分析方法。本节后续内容将详细讨论SA的内容。
- 面向对象分析方法。将在10.3节中进行详细介绍。
- 面向问题域的分析（Problem Domain Oriented Analysis, PDOA）方法。
    1. 业务流程分析 业务流程分析的目的是了解各个业务流程的过程，明确各个部门之间的业务关系和每个业务处理的意义，为业务流程的合理化改造提供建议，为系统的数据流程变化提供依据。
    2. 数据流图 DFD 从数据传递和加工的角度，利用图形符号通过逐层细分地描述系统内各个部件的功能和数据在它们之间传递的情况，来说明系统所完成的功能。
    3. 数据字典 数据字典是关于数据的信息的集合，也就是对DFD 中包含的所有元素的定义的集合。DFD 和数据字典共同构成系统的逻辑模型。

#### 需求定义

需求定义的过程也就是形成需求规格说明书的过程，通常有两种需求定义的方法，分别是严格定义方法和原型方法。

1. 严格定义方法 严格定义（预先定义）是目前采用较多的一种需求定义方法。在采用严格定义的传统的结构化开发方法中，各个工作阶段排列成一个理想的线性开发序列，在每一工作阶段中，都用上一阶段所提供的完整、严格的文档作为指导文件，因此它本质上是一种顺序型的开发方法。

2. 原型方法 原型方法以一种与严格定义法截然不同的观点看待需求定义问题。原型化的需求定义过程是一个开发人员与用户通力合作的反复过程。从一个能满足用户基本需求的原型系统开始，允许用户在开发过程中提出更好的要求，根据用户的要求不断地对系统进行完善，它实质上是一种迭代的循环型的开发方式。

3. 软件需求说明书 软件需求说明书（ Software Requirements Specification, SRS）是需求开发阶段的成果，代表用户和开发人员对软件系统的共同理解， 是软件项目后期开发和维护的基础。不仅是系统测试和用户文档的基础，也是所有子系列项目规划、设计和编码的基础。SRS需要把用户对软件的功能需求和非功能需求进行详细记录和准确描述，它应该尽可能完整地描述系统预期的外部行为和用户可视化行为。除了设计和实现上的限制，软件需求说明不应该包括设计、构造、测试或工程管理的细节，也不应该包指对算法的详细过程描述。

#### 需求管理

需求管理通常包括定义需求基线、处理需求变更及需求跟踪等方面的工作。

### 软件设计

从工程管理角度来看，软件设计可分为概要设计和详细设计两个阶段。
- 概要设计也称为高层设计或总体设计，即将软件需求转化为数据结构和软件的系统结构。
- 详细设计也称为低层设计，即对结构图进行细化，得到详细的数据结构与算法。同样如果采用结构化设计，则详细设计的任务就是为每个模块进行设计。详细设计确定应该如何具体地实现所要求的系统，得出对目标系统的精确描述。它采用自顶向下、逐步求精的设计方式和单入口单出口的控制结构。经常使用的工具包括程序流程图、盒圈、PAD 图（Problem Analysis Diagram，问题分析图〉及PDL（Program Design Language, 伪代码）。

#### 软件设计活动

软件设计包括4个既独立又相互联系的活动，即数据设计、软件结构设计、人机界面设计和过程设计。

- 数据设计将分析时创建的信息域模型变换成实现软件所需的数据结构。在E-R 圈中定义的数据对象和关系，以及数据字典中描述的详细数据内容为数据设计活动奠定了基础。
- 软件结构设计的主要目标是开发一个模块化的程序结构，并表示出模块间的控制关系。此外，软件结构设计将程序结构和数据结构相结合，为数据在程序中的流动定义了接口。
- 人机界面设计（接口设计）描述了软件内部、软件和协作系统之间，以及软件与人（用户）之间如何通信。
- 过程设计应该在数据设计、体系结构设计和接口设计完成之后进行。所有的程序都可以建立在一组已有的逻辑构成元素上，这一级逻辅构成元素强调了“对功能域的维护”，其中每一个逻辑构成元素有可预测的逻辑结构，即从顶端进入，从底端退出，读者可以很容易地理解过程流。

#### 结构化设计

结构化设计包括体系结构设计、接口设计、数据设计和过程设计等任务。***它是一种面向数据流的设计方法***，是以结构化分析阶段所产生的成果为基础，进一步自顶而下、逐步求精和模块化的过程。

在结构化方法中，模块化是一个很重要的概念，它是指将一个待开发的软件分解成为若干个小的简单部分——模块。每个模块可以独立地开发、测试。这是一种复杂问题的“分而治之”原则，其目的是使程序的结构清晰、易于测试与修改。

模块是指执行某一特定任务的数据结构和程序代码。

通常将模块的接口和功能定义为其外部特性，将模块的局部数据和实现该模块的程序代码称为内部特性。

在模块设计时，最重要的原则就是实现信息隐蔽和模块独立。

- 信息隐蔽是开发整体程序结构时使用的法则，即将每个程序的成分隐藏或封装在一个单一的设计模块中，并且尽可能少地暴露其内部的处理过程。通常会将困难的决策、可能修改的决策、数据结构的内部连接， 以及对它们所傲的操作细节、内部特征码、与计算机硬件有关的细节等隐蔽起来。通过信息隐蔽可以提高软件的可修改性、可测试性和可移植性，它也是现代软件设计的一个关键性原则。

- 模块独立是指每个模块完成一个相对独立的特定子功能，并且与其他模块之间的联系最简单。保持模块的高度独立性，也是在设计时的一个很重要的原则。通常用耦合（模块之间联系的紧密程度）和内聚（模块内部各元素之间联系的紧密程度〉两个标准来衡量，我们的目标是“高内聚、低耦合”。

模块通常具有连续性，也就意味着作用于系统的小变动将导致行为上的小变化，同时规模说明的小变动也将影响到小部分模块。

------

内聚类型        描述

功能内聚        完成一个单一功能，各个部分协同工作，缺一不可

顺序内聚        处理元素相关，而且必须按特定的顺序执行

通信内聚        所有处理元素集中在一个数据结构的区域上

过程内聚        处理元素相关，而且必须按特定的次序执行

瞬时内聚        所包含的任务必须在同一时间间隔内执行（如初始化模块）

逻辑内聚        完成逻箱上相关的－组任务

偶然内聚        完成一组没有关系或松散关系的任务

------

耦合类型        描述

非直接耦合      没有直接联系，互相不依赖对方

数据梢合        借助参数表传递简单数据

标记耦合        一个数据结构的一部分借助于模块接口被传递

控制耦合        模块间传递的信息中包含用于控制模块内部逻辑的信息

外部耦合        与软件以外的环模有关

公共耦合        多个模块引用同一个全局数据区

内容耦合        一个模块访问另－个模块的内部数据；一个模块不通过正常入口转到另－模块的内部；两个模块有一部分程序代码重叠；一个模块有多个入口。

#### 工作流设计

工作流（work flow）就是自动运作的业务过程部分或整体，表现为参与者对文件、信息或任务按照规程采取行动，并令其在参与者之间传递。

工作流管理（Workflow Management, WFM）是人与电脑共同工作的自动化协调、控制和通信，在电脑化的业务过程上，通过在网络上运行软件，使所有命令的执行都处于受控状态。在工作流管理下，工作量可以被监督，分派工作到不同的用户达成平衡。

工作流管理系统（Workflow Management System, WFMS）通过软件定义、创建工作流并管理其执行。

### 软件测试

软件测试是软件质量保证的主要手段之一，也是在将软件交付给客户之前所必须完成的步骤。

#### 测试的类型

软件测试方法一般分为两大类，分别为动态测试和静态测试。
1. 动态测试 动态测试指通过运行程序发现错误，分为黑盒测试法、自盒割试法和灰盒测试法等。
    - 黑盒法。把被测试对象看成一个黑盒子，测试人员完全不考虑程序的内部结构和处理过程，只在软件的接口处进行测试，依据需求规格说明书，检查程序是否满足功能要求。
    - 白盒法。把测试对象看做一个打开的盒子，测试人员必须了解程序的内部结构和处理过程，以检查处理过程的细节为基础，对程序中尽可能多的逻辑路径进行测试，检验内部控制结构和数据结构是否有错，实际的运行状态与预期的状态是否一致。
    - 灰盒法。灰盒测试是一种介于白盒测试与黑盒测试之间的测试，它关注输出对于输入的正确性，同时也关注内部表现，但这种关注不像白盒测试那样详细且完整，而只是通过一些表征性的现象、事件及标志来判断程序内部的运行状态。
2. 静态测试 静态测试指被测试程序不在机器上运行，而采用人工检测和计算机辅助静态分析的手段对程序进行检测。静态分析中进行人工测试的主要方法有桌前检查（Desk Checking）、代码审查和代码走查。
    - 桌前检查。由程序员自己检查自己编写的程序。
    - 代码审查。代码审查是由若干程序员和测试员组成一个会审小组，通过阅读、讨论和争议，对程序进行静态分析的过程。
    - 代码走查。代码走查与代码审查基本相同，其过程也分为两步。

#### 测试的阶段

根据测试的目的、阶段的不间，可以把测试分为单元测试、集成测试、确认测试和系统测试等几类。

1. 单元测试     
    单元测试又称为模块测试，是针对软件设计的最小单位（程序模块）进行正确性检验的测试工作。其目的在于检查每个程序单元能否正确实现详细设计说明中的模块功能、性能、接口和设计约束等要求，以及发现各模块内部可能存在的各种错误。

2. 集成测试
    集成测试也称为组装测试、联合测试（对于子系统而言，则称为部件测试）。它将已通过单元测试的模块集成在一起，主要测试模块之间的协作性。

3. 确认测试
    确认测试也称为有效性测试，主要包括验证软件的功能、性能及其他特性。是否与用户要求（需求） 一致。确认测试计划通常是在需求分析阶段完成的。根据用户的参与程度，通常包括以下4种类型。
    - 内部确认测试：主要由软件开发组织内部按软件需求说明书进行测试。
    - Alpha测试：由用户在开发环境下进行测试。
    - Beta测试：由用户在实际使用环境下进行测试。
    - 验收测试：针对软件需求说明书，在交付前以用户为主进行测试。

4. 系统测试
    如果项目不只包含软件，还有硬件和网络等，则要将软件与外部支持的硬件、外设、支持软件、数据等其他系统元素结合在一起，在实际运行环境下，对计算机系统进行一系列集成与确认测试。

#### 性能测试

性能测试是通过自动化的测试工具模拟多种正常、峰值及异常负载条件来，对系统的各项性能指标进行测试。

性能测试的目的是验证软件系统是否能够达到用户提出的性能指标，同时发现软件系统中葬在的性能瓶颈，并优化软件，最后达到优化系统的目的。

性能测试类型包括负载测试、强度测试和容量测试等。

#### 测试自动化

为了提高软件测试的效率，运用既有的测试工具或开发相应的测试程序进行测试，这个过程我们称为自动化测试。


#### 软件调试

调试主要由3个步骤组成，它从表示程序中存在错误的某迹象开始，首先确定错误的准确位置，也就是找出是哪个模块或哪个语句引起的错误。然后仔细研究推断代码以确定问题的原因，好设法改正，最后进行回归测试。总的来说有三种调试的实现方法，分别是蛮力法、回溯法、原因排除法。

- 蛮力法的调试可能是为了找到错误原因而使用的最普通但是最低效的方法了。
- 回溯是在小程序中经常能够奏效的相当常用的调试方法。
- 原因排除法是通过演绎和归纳，以及二分法来实现的。

#### 测试设计

就每一项测试而言，软件测试过程包括测试计划、测试设计、测试执行和测试评估等阶段。

测试设计是整个测试过程中非常重要的一个环节，测试设计的输出结果是测试执行活动依赖的执行标准，测试设计的充分性决定了整个软件过程的测试质量。

#### 测试管理

按照管理的对象不同，软件测试管理大致分为测试团队管理、测试计划管理、错误（缺陷）跟踪管理和测试件（testware）管理四大部分。

### 系统运行和维护

本节主要考查3个方面的知识，包指软件维护的实施和管理、新旧系统的转换交接、遗留系统的处理策略等。

#### 新旧系统的分析和比较

新旧系统分析和比较的主要目的包括：
- 评估旧系统存在的问题，评估升级旧系统的、价值和升级的代价。
- 在项目可行性分析和方案设计阶段，通过分析旧的系统，寻找旧系统中存在的主要问题，为新系统的设计目标提供参考。
- 在新系统方案确定后，进行新旧系统比较以便验证新系统的设计是否完备。
- 理解新旧系统之间的差异、确定新旧系统转换的技术路线。

#### 遗留系统的处理策略

遗留系统（Legacy System）也称为遗产系统，它是指任何基本上不能进行修改和演化以满足新的变化了的业务需求的信息系统。

#### 软件维护

软件经过测试，交付给用户后，在使用和运行过程中可能在软件运行/维护阶段对软件产品进行的修改就是维护。

软件可维护性是指纠正软件系统出现的错误和缺陷，以及为满足新的要求进行修改、扩充和压缩的容易程度。

### 软件开发环境与工具

#### 软件开发工具

软件开发工具是指用于辅助软件开发过程活动的各科3软件，包搭建模工具、分析设计工具、编程工具、测试工具、项目管理工具等。

1. 建模工具 简单地说，建模就是建立软件系统的抽象模型。系统模型贯穿于软件生命周期的整个过程，包括分析模型、设计模型、实现模型、测试模型等，但通常所说的“系统模型”主要是指分析模型和设计模型。

2. 设计工具 设计工具是指辅助软件设计过程活动的各种软件，它辅助设计人员从软件的需求分析模型出发，得到相应的设计模型。常用的设计工具包括面向对象的设计工具、结构化设计工具和数据库设计工具等。

3. 编程工具 编程工具是指辅助编程过程活动的各类软件。从方法学上分类，可分为结构化编程工具和面向对象的编程工具；从使用方式上分类，可分为批处理编程工具（目前已经很少见到）和可视化编程工具；从功能上分类，可细分为编辑工具、编译（汇编）工具、组装（building）工具和排错工具等，目前的编程过程多采用集成化开发环境工具。

4. 测试工具 测试工具是指辅助测试过程活动的各类软件，通常可分为白盒测试工具、黑盒测试工具和测试管理工具等。

5. 项目管理工具 项目管理工具是指辅助项目管理活动的各类软件。

